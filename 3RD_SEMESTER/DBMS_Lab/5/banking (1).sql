DROP TABLE DEPOSITOR CASCADE CONSTRAINTS;
DROP TABLE BORROWER CASCADE CONSTRAINTS;
DROP TABLE ACCOUNT CASCADE CONSTRAINTS;
DROP TABLE LOAN CASCADE CONSTRAINTS;
DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP TABLE BRANCH CASCADE CONSTRAINTS;

CREATE TABLE BRANCH
   (BRANCH_NAME   VARCHAR(15) NOT NULL,
    BRANCH_CITY   VARCHAR(15) NOT NULL,
    ASSETS     NUMBER      NOT NULL,
    PRIMARY KEY(BRANCH_NAME));
    
CREATE TABLE CUSTOMER
   (CUSTOMER_NAME    VARCHAR(15) NOT NULL,
    CUSTOMER_STREET  VARCHAR(12) NOT NULL,
    CUSTOMER_CITY    VARCHAR(15) NOT NULL,
    PRIMARY KEY(CUSTOMER_NAME));

CREATE TABLE ACCOUNT
   (ACCOUNT_NUMBER   VARCHAR(15) NOT NULL,
    BRANCH_NAME      VARCHAR(15) NOT NULL,
    ACC_OPENING_DATE DATE,
    BALANCE       NUMBER      NOT NULL,
    PRIMARY KEY(ACCOUNT_NUMBER),
    FOREIGN KEY(BRANCH_NAME) REFERENCES BRANCH(BRANCH_NAME));


CREATE TABLE LOAN
   (LOAN_NUMBER   VARCHAR(15) NOT NULL,
    BRANCH_NAME      VARCHAR(15) NOT NULL,
    LOAN_DATE DATE,
    AMOUNT     NUMBER      NOT NULL,
    PRIMARY KEY(LOAN_NUMBER),
    FOREIGN KEY(BRANCH_NAME) REFERENCES BRANCH(BRANCH_NAME));

CREATE TABLE DEPOSITOR
   (CUSTOMER_NAME    VARCHAR(15) NOT NULL,
    ACCOUNT_NUMBER   VARCHAR(15) NOT NULL,
    PRIMARY KEY(CUSTOMER_NAME, ACCOUNT_NUMBER),
    FOREIGN KEY(ACCOUNT_NUMBER) REFERENCES ACCOUNT(ACCOUNT_NUMBER),
    FOREIGN KEY(CUSTOMER_NAME) REFERENCES CUSTOMER(CUSTOMER_NAME));

CREATE TABLE BORROWER
   (CUSTOMER_NAME    VARCHAR(15) NOT NULL,
    LOAN_NUMBER   VARCHAR(15) NOT NULL,
    PRIMARY KEY(CUSTOMER_NAME, LOAN_NUMBER),
    FOREIGN KEY(CUSTOMER_NAME) REFERENCES CUSTOMER(CUSTOMER_NAME),
    FOREIGN KEY(LOAN_NUMBER) REFERENCES LOAN(LOAN_NUMBER));

/* POPULATE RELATIONS */

INSERT INTO CUSTOMER VALUES ('JONES',  'MAIN',     'HARRISON');
INSERT INTO CUSTOMER VALUES ('SMITH',  'MAIN',     'RYE');
INSERT INTO CUSTOMER VALUES ('HAYES',  'MAIN',     'HARRISON');
INSERT INTO CUSTOMER VALUES ('CURRY',  'NORTH', 'RYE');
INSERT INTO CUSTOMER VALUES ('LINDSAY',   'PARK',     'PITTSFIELD');
INSERT INTO CUSTOMER VALUES ('TURNER', 'PUTNAM',   'STAMFORD');
INSERT INTO CUSTOMER VALUES ('WILLIAMS',  'NASSAU',   'PRINCETON');
INSERT INTO CUSTOMER VALUES ('ADAMS',  'SPRING',   'PITTSFIELD');
INSERT INTO CUSTOMER VALUES ('JOHNSON',   'ALMA',     'PALO ALTO');
INSERT INTO CUSTOMER VALUES ('GLENN',  'SAND HILL',   'WOODSIDE');
INSERT INTO CUSTOMER VALUES ('BROOKS', 'SENATOR',  'BROOKLYN');
INSERT INTO CUSTOMER VALUES ('GREEN',  'WALNUT',   'STAMFORD');
INSERT INTO CUSTOMER VALUES ('JACKSON',   'UNIVERSITY',  'SALT LAKE');
INSERT INTO CUSTOMER VALUES ('MAJERIS',   'FIRST', 'RYE');
INSERT INTO CUSTOMER VALUES ('MCBRIDE',   'SAFETY',   'RYE');

INSERT INTO BRANCH   VALUES ('DOWNTOWN',  'BROOKLYN',  900000);
INSERT INTO BRANCH   VALUES ('REDWOOD',   'PALO ALTO',   2100000);
INSERT INTO BRANCH   VALUES ('PERRYRIDGE',   'HORSENECK',   1700000);
INSERT INTO BRANCH   VALUES ('MIANUS', 'HORSENECK',    400200);
INSERT INTO BRANCH   VALUES ('ROUND HILL',   'HORSENECK',   8000000);
INSERT INTO BRANCH   VALUES ('POWNAL', 'BENNINGTON',   400000);
INSERT INTO BRANCH   VALUES ('NORTH TOWN',   'RYE',      3700000);
INSERT INTO BRANCH   VALUES ('BRIGHTON',  'BROOKLYN', 7000000);
INSERT INTO BRANCH   VALUES ('CENTRAL',   'RYE',       400280);

INSERT INTO ACCOUNT  VALUES ('A-101',  'DOWNTOWN',     TO_DATE('2009-01-09', 'YYYY-MM-DD'),    1500);
INSERT INTO ACCOUNT  VALUES ('A-215',  'MIANUS',       TO_DATE('2011-07-19', 'YYYY-MM-DD'),    1700);
INSERT INTO ACCOUNT  VALUES ('A-102',  'PERRYRIDGE',   TO_DATE('2019-03-04', 'YYYY-MM-DD'),  1500);
INSERT INTO ACCOUNT  VALUES ('A-305',  'ROUND HILL',   TO_DATE('2010-03-18', 'YYYY-MM-DD'),     350);
INSERT INTO ACCOUNT  VALUES ('A-201',  'PERRYRIDGE',   TO_DATE('2009-09-29', 'YYYY-MM-DD'),  9000);
INSERT INTO ACCOUNT  VALUES ('A-222',  'REDWOOD',      TO_DATE('2012-04-20', 'YYYY-MM-DD'),  700);
INSERT INTO ACCOUNT  VALUES ('A-217',  'BRIGHTON',     TO_DATE('2016-05-18', 'YYYY-MM-DD'),  1750);
INSERT INTO ACCOUNT  VALUES ('A-333',  'CENTRAL',      TO_DATE('2013-08-24', 'YYYY-MM-DD'),  850);
INSERT INTO ACCOUNT  VALUES ('A-444',  'NORTH TOWN',  TO_DATE('2018-11-11', 'YYYY-MM-DD'),    625);

INSERT INTO DEPOSITOR VALUES ('SMITH', 'A-215');
INSERT INTO DEPOSITOR VALUES ('HAYES', 'A-102');
INSERT INTO DEPOSITOR VALUES ('HAYES', 'A-101');
INSERT INTO DEPOSITOR VALUES ('TURNER',   'A-305');
INSERT INTO DEPOSITOR VALUES ('JOHNSON','A-201');
INSERT INTO DEPOSITOR VALUES ('JONES', 'A-217');
INSERT INTO DEPOSITOR VALUES ('LINDSAY','A-222');
INSERT INTO DEPOSITOR VALUES ('MAJERIS','A-333');
INSERT INTO DEPOSITOR VALUES ('SMITH', 'A-444');

INSERT INTO LOAN  VALUES ('L-17',      'DOWNTOWN',     TO_DATE('2009-01-09', 'YYYY-MM-DD'),  1000);
INSERT INTO LOAN  VALUES ('L-23',      'REDWOOD',      TO_DATE('2009-09-29', 'YYYY-MM-DD'),  2000);
INSERT INTO LOAN  VALUES ('L-15',      'PERRYRIDGE',   TO_DATE('2010-03-18', 'YYYY-MM-DD'),  1500);
INSERT INTO LOAN  VALUES ('L-14',      'DOWNTOWN',     TO_DATE('2010-03-18', 'YYYY-MM-DD'),  1500);
INSERT INTO LOAN  VALUES ('L-93',      'MIANUS',       TO_DATE('2016-05-18', 'YYYY-MM-DD'),  500);
INSERT INTO LOAN  VALUES ('L-11',      'ROUND HILL',  TO_DATE('2012-04-20', 'YYYY-MM-DD'),    900);
INSERT INTO LOAN  VALUES ('L-16',      'PERRYRIDGE',  TO_DATE('2011-07-19', 'YYYY-MM-DD'),    1300);
INSERT INTO LOAN  VALUES ('L-20',      'NORTH TOWN',  TO_DATE('2013-08-24', 'YYYY-MM-DD'),    7500);
INSERT INTO LOAN  VALUES ('L-21',      'CENTRAL',      TO_DATE('2019-03-04', 'YYYY-MM-DD'),  570);

INSERT INTO BORROWER VALUES ('JONES',  'L-17');
INSERT INTO BORROWER VALUES ('SMITH',  'L-23');
INSERT INTO BORROWER VALUES ('HAYES',  'L-15');
INSERT INTO BORROWER VALUES ('JACKSON',   'L-14');
INSERT INTO BORROWER VALUES ('CURRY',  'L-93');
INSERT INTO BORROWER VALUES ('SMITH',  'L-11');
INSERT INTO BORROWER VALUES ('ADAMS',  'L-16');
INSERT INTO BORROWER VALUES ('MCBRIDE',   'L-20');
INSERT INTO BORROWER VALUES ('SMITH',  'L-21');

COMMIT;
